# Rime schema settings
# encoding: utf-8


schema:
  schema_id: onion-array10
  name: "â–¦ è¡Œåˆ—ï¼‘ï¼ï¼ˆæ´‹è”¥ç‰ˆï¼‰"
  version: "202512"
  author:
    - æ´‹è”¥
  description: |
    è¡Œåˆ—10
  dependencies:
    - Mount_bopomo


switches:
  - name: ascii_mode
    reset: 0
    states: [ ä¸­æ–‡, è‹±æ–‡ ]
  - name: full_shape
    reset: 0
    states: [ åŠå½¢, å…¨å½¢ ]
  - name: ascii_punct
    reset: 0
    states: [ "ã€‚ï¼Œ", "ï¼ï¼Œ" ]
  - name: simplification
    reset: 0
    states: [ ç¹é«”, ç®€ä½“ ]
  - name: extended_charset
    # reset: 1
    states: [ "å¸¸ç”¨", "å¢å»£" ]
  - name: simplify_comment
    # reset: 1
    states: [ ç·¨ç¢¼, ç„¡ç·¨ ]
  # - name: unicode_comment
  #   reset: 0
  #   states: [ 'ğŸ„½', 'ğŸ…„' ]
  #   # states: [ 'nil', 'Unicode(URL)' ]
  # - name: debug_comment
  #   reset: 0
  #   states: [ 'â“ƒ', 'â’¹' ]
  #   # states: [ 'normal', 'Debug' ]
  - name: switch_key_board
    reset: 0
    states: [ "é›™é‚Š", "æ•¸éµ" ]
  # - name: switch_key_binder
  #   # reset: 1
  #   states: [ "å·¦é‚Š", "çš†å¯" ]
  # - options: [ model_both, model_abc, model_num ]
  #   # reset: 1
  #   states:
  #     - "å…©é‚Šéƒ½å¯"
  #     - "å·¦é‚Šéµç›¤"
  #     - "æ•¸å­—éµç›¤"


engine:
  processors:
    - lua_processor@array10_mix
    - ascii_composer
    - recognizer
    # - lua_processor@key_binder@key1  # æŸäº›è»Ÿé«”ä¸­ä½œç”¨ï¼ŒæŸäº›è»Ÿé«”ç¼ºå¤±ï¼
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
    # - fluency_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor  # ä¸€å®šè¦æ”¾åœ¨ã€Œaffix_segmentorã€å‰
    - affix_segmentor@shadow_top
    # - affix_segmentor@second_phrases  # ä¸æ¨™è¨»ç›´æ¥æ›åœ¨ã€Œabcã€ä¸‹ï¼Œé™„è¨»å¯æ›æ¥åˆ°å…¶ä»–ã€Œtranslatorã€ä¸‹ã€‚
    - affix_segmentor@reverse2_lookup
    # - lua_segmentor@mount_reverse2  -- ä¸è¦å¦‚å…¶ä»–æ–¹æ¡ˆæ”¹ segmentor è™•ç†ï¼Œå¦‚æ­¤å°éµç›¤ä½æ“ä½œéœ€è¦é‡æ–°å¢ä¿®ã€‚
    - affix_segmentor@reverse3_lookup
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - table_translator
    - table_translator@shadow_top
    # - script_translator@second_phrases
    - script_translator@reverse2_lookup
    - table_translator@reverse3_lookup
  filters:
    # - cjk_minifier  # å¤±æ•ˆï¼Ÿç„¡æ³•å°script_translatorç”¢ç”Ÿå½±éŸ¿
    - simplifier@zh_cn
    - reverse_lookup_filter@array10_reverse_lookup
    - reverse_lookup_filter@bpmf_reverse_lookup
    - lua_filter@punct_preedit_revise_filter
    - lua_filter@comment_filter_plus
    # - lua_filter@*filter_comment_filter_array10@comment_filter_array10
    # - lua_filter@*filter_comment_filter_array10  # ä¸€å®šè¦å†ã€Œ@ã€æ‰èƒ½ç”¨ã€Œtags:ã€é™å®šã€‚
    - uniquifier
    - single_char_filter  # ä½œè€…èªªæ˜å…¶ä½œç”¨æ˜¯å–®å­—å„ªå…ˆï¼Œæ–‡æª”çš„èªªæ³•æœ‰èª¤ã€‚  # åªé‡å°ã€Œtable_translatorã€ä½œç”¨ï¼Œå®˜æ–¹æ–‡ä»¶æ˜¯æ”¾åœ¨ã€Œuniquifierã€å¾Œã€‚
    # - lua_filter@comment_filter_unicode  # unicode å’Œ debug åˆ†é–‹ï¼ŒåŒæ™‚é–‹å•Ÿç„¡æ³•è¨˜æ†¶
    # - lua_filter@comment_filter_debug  # unicode å’Œ debug åˆ†é–‹ï¼ŒåŒæ™‚é–‹å•Ÿç„¡æ³•è¨˜æ†¶
    # - lua_filter@comment_filter_unicode_debug


##### é¸å–® #####
menu:
  # alternative_select_labels: [ Q, A, Z, W, S, X, E, D, C, R ]
  alternative_select_keys: "1234567890"
  page_size: 10


##### æ‹¼å¯«è™•ç†å™¨ #####
speller:
  # alphabet: ""
  #### ç·¨ç¢¼ç‚º[zxcvsdfwernuiojklm,./]+æ™‚
  # alphabet: "zxcvsdfwerbnuiojklm,./"
  # # initials: "zxcvsdfwerbnuiojklm,./"
  # # finals: "h"
  #### ç·¨ç¢¼ç‚º[zxcvsdfwer]+æ™‚
  alphabet: "zxcvsdfwerb."  #ã€Œ.ã€ç‚º lua åŠŸèƒ½è¦ç”¨åˆ°ä¹‹åˆ¤åˆ¥ã€‚
  # initials: "zxcvsdfwerb."  #ã€Œ.ã€ç‚º lua åŠŸèƒ½è¦ç”¨åˆ°ä¹‹åˆ¤åˆ¥ã€‚
  # finals: "a"
  #### ç·¨ç¢¼ç‚º[0-9]+æ™‚
  # alphabet: "1234567890-"
  # # initials: "1234567890-"
  # # finals: "-"
  delimiter: "|"
  use_space: false
  auto_select: false
  # auto_select_pattern: '^[a-z,./;]{1,4}i? $'
  algebra:
    #### ç·¨ç¢¼ç‚º[zxcvsdfwer]+æ™‚
    ## å‰ç¶´å°¾ç¶´è™•ç†
    - derive/^([zxcvsdfwer]+)$/$1b/  # ä¸€èˆ¬ä¸­æ–‡å­—
    #### ç·¨ç¢¼ç‚º[0-9]+æ™‚
    # ## å‰ç¶´å°¾ç¶´è™•ç†
    # # - derive/^([0-9]+@)$/$1./  # ä¸€èˆ¬ä¸­æ–‡å­—
    # # - derive/^(@[0-9]+)$/.$1/  # ç¬¦è™Ÿ
    # - derive/@/./
    # # - derive/@/ /  # æ›è¼‰åœ¨æ³¨éŸ³ä¸‹ç”¨ï¼Œä½†æœƒè·³å›å®Œæ•´ç¢¼å–®å­—ï¼Œæ•…ä¸ç”¨ã€‚
    # - xform/@$//
    # ## éµç›¤å°æ˜ ï¼ˆç·¨ç¢¼ç‚º[0-9]+æ™‚ï¼‰(ç›´æ¥ä½¿ç”¨æ•¸å­—ï¼Œå‰‡ç„¡æ³•ç”¨æ•¸å­—é¸å­—)
    # - "xlit|1234567890.|zxcvsdfwerb|"


##### è¡Œåˆ—10ä¸»ç¿»è­¯å™¨-é †åºå›ºå®šä¸è®Š #####
translator:
  dictionary: onion-array10.extended
  prism: onion-array10
  # initial_quality: 1000
  enable_charset_filter: true
  enable_encoder: true  # æ‰“è©æ™‚ï¼Œå¯ä½¿ç”¨ç°¡ç•¥æ‰“æ³•ï¼Œç°¡ç•¥æ‰“æ³•çš„è¦å‰‡åœ¨å­—å…¸ä¸­è¨­å®šã€‚
  encode_commit_history: true
  max_phrase_length: 7  #4
  enable_sentence: true  # é–‹å•Ÿä¸»è¦ç‚ºï¼šé˜²æ­¢ç„¡æ•ˆé•·ç¢¼è®Šç‚ºç©ºç¢¼ã€‚  # é¸å–®ç„¡æ³•å¾è¼ƒçŸ­ç·¨ç¢¼é–‹å§‹é¸ï¼Œéœ€ä¾é ã€Œsecond_phrasesã€å¾è¼ƒçŸ­ç·¨ç¢¼é–‹å§‹é¸ã€‚  # æ­¤ç‚ºè‡ªå‹•é€ å¥ï¼Œç‚ºæ‰“è©æ™‚ï¼Œä½¿ç”¨å…¨æ‹¼ã€‚
  enable_completion: true  # é€ç¢¼æç¤ºã€‚
  sentence_over_completion: false  # åœ¨ç„¡å…¨ç¢¼å°æ‡‰å­—è€Œåƒ…æœ‰é€éµæç¤ºæ™‚ä¹Ÿé–‹å•“æ™ºèƒ½çµ„å¥ã€‚
  # strict_spelling: true  # é…åˆ speller ä¸­çš„ fuzz è¦å‰‡ï¼Œåƒ…ä»¥ç•§æ‹¼ç¢¼çµ„è©ã€”åƒ… table_translator æœ‰æ•ˆï¼Ÿã€•å¯¦éš›å¥½åƒã€” script_translator æ‰æœ‰æ•ˆã€•ï¼Ÿ
  enable_user_dict: true
  # db_class: tabledb  #userdb
  disable_user_dict_for_patterns:
    - "^b.+$"  # ç¬¦è™Ÿå‰ç¶´é–‹é ­ä¸èª¿é »
    # - "^.$"  # å–®ç¢¼ä¸èª¿é »
  preedit_format:
    - "xlit|zxcvsdfwerb|ï¼ï¼‘ï¼’ï¼“ï¼”ï¼•ï¼–ï¼—ï¼˜ï¼™ï¼|"
    - xform/\|/â/
  comment_format:
    #### ç·¨ç¢¼ç‚º[zxcvsdfwer]+æ™‚
    # - xform/a//
    - "xlit|zxcvsdfwerb|ï¼ï¼‘ï¼’ï¼“ï¼”ï¼•ï¼–ï¼—ï¼˜ï¼™.|"
    #### ç·¨ç¢¼ç‚º[0-9]+æ™‚
    # # - xform/@/./
    # - xform/@//
    # # - xform/~/~ /
    # # - xform/~/ï½/
    # - "xlit|0123456789|ï¼ï¼‘ï¼’ï¼“ï¼”ï¼•ï¼–ï¼—ï¼˜ï¼™|"

# abc_segmentor:
#   extra_tags:
#     - second_phrases


##### è¡Œåˆ—10å‰¯ç¿»è­¯å™¨-è¼¸å‡ºé•·è©ç”¨ #####
# å•é¡Œï¼š
#   åŸæœ¬è¨­å®šä»¥å–®å­—å„ªå…ˆï¼Œé•·è©å‰¯ç¿»è­¯å™¨æ’åœ¨å¾Œï¼Œä¸¦æ‰“é–‹å­—å…¸ç´€éŒ„ã€Œenable_user_dictã€ã€‚
#   æ‰¿ä¸Šï¼Œä½†ç™¼ç¾æœƒæœ‰åˆ‡åˆ† bugï¼šå‡ºå­—ç‚ºé•·è©ï¼Œä½†åˆ‡åˆ†ç‚ºã€Œtable_translatorã€ï¼Œå‡ºå­—å¾Œï¼Œç·¨ç¢¼æ²’æ¸…ï¼Œå› æ­¤é€ æˆéŒ¯äº‚ï¼
#   æŠŠã€Œsecond_phrasesã€æå‰ï¼Œåˆæœƒå‡ºå­—å¤ªæ··é›œï¼šé¸é …æœ‰ã€Œå…¨ç¢¼ã€åˆæœ‰ã€Œencoderã€å½¢å¼ï¼å–®å­—ç„¡æ³•ç½®é ‚ä¹‹å•é¡Œï¼
#   é•·è©å‰¯ç¿»è­¯å™¨ç½®å¾Œï¼Œä¸¦é—œé–‰å­—å…¸ï¼Œé™¤åŸå…ˆå­—å…¸ä¸­è©å½™æ‰èƒ½å‡ºå…¨éƒ¨éƒ½æ˜¯ã€Œå…¨ç¢¼ã€ä¹‹ç·¨ç¢¼ã€‚
#   è€ƒé‡è¡Œåˆ—10ç·¨ç¢¼å¤ªé•·ï¼Œã€Œå…¨ç¢¼ã€+ã€Œå…¨ç¢¼ã€+ã€Œå…¨ç¢¼ã€+ ... å»ºæ§‹è¼¸å‡ºçš„è©ä¸å¤ªå¥½ç”¨ã€‚
########
# è¨­ç½®ä¸€ï¼ˆæŠŠ initial_quality è¨­ 1000 ï¼Œä½¿é•·è©å‰¯ç¿»è­¯å™¨é¸é …ç½®å‰ï¼›é–‹å•Ÿå‰¯ç¿»è­¯å™¨å­—å…¸ï¼‰ï¼š
#   é•·è©æœƒè·‘å‰ï¼Œå…¨ç¢¼å–®å­—ç„¡æ³•å›ºå®šç½®é ‚ã€‚
#   å‡ºå­—å¤ªæ··é›œã€‚
#   ã€Œå…¨ç¢¼ã€+ã€Œå…¨ç¢¼ã€+ã€Œå…¨ç¢¼ã€+ ... å»ºæ§‹è¼¸å‡ºçš„è©ä¸å¤ªå¥½ç”¨ã€‚
########
# è¨­ç½®äºŒï¼ˆé•·è©å‰¯ç¿»è­¯å™¨ç½®å¾Œï¼›é–‹å•Ÿå‰¯ç¿»è­¯å™¨å­—å…¸ï¼‰ï¼š
#   è¨­ç½®å‡ºè©ä»¥ã€Œencoderã€å½¢å¼ç‚ºä¸»ã€‚è©ï¼šé¦–ç¢¼ã€Œå…¨ç¢¼ã€ï¼Œå¾Œé¢å­—ç‚ºã€Œé–‹é ­ç¢¼ã€ã€‚
#   ã€Œsecond_phrasesã€è¨­ç½®åŠŸèƒ½åªå‰©ï¼šé¸å–®ä¸­ï¼Œå¯é¸å¾—åˆ°è¼ƒçŸ­ç·¨ç¢¼ä¹‹å­—è©ã€‚
########
# è¨­ç½®ä¸‰ï¼ˆåœç”¨é•·è©å‰¯ç¿»è­¯å™¨ï¼ï¼‰ï¼š
#   è¨­ç½®å‡ºè©ä»¥ã€Œencoderã€å½¢å¼ç‚ºä¸»ã€‚è©ï¼šé¦–ç¢¼ã€Œå…¨ç¢¼ã€ï¼Œå¾Œé¢å­—ç‚ºã€Œé–‹é ­ç¢¼ã€ã€‚
#   ä¸èƒ½ï¼šé¸åˆ°è¼ƒçŸ­ç·¨ç¢¼ä¹‹å­—è©ã€‚
#   ä¸èƒ½ï¼šã€Œå…¨ç¢¼ã€+ã€Œå…¨ç¢¼ã€+ã€Œå…¨ç¢¼ã€+ ... ç”¢ç”Ÿè©å½™ã€‚
#################################
# second_phrases:
#   __include: /translator  # onion-array10.schema.yaml:/translator
#   tag: second_phrases
#   initial_quality: 0  #1000
#   enable_encoder: false
#   encode_commit_history: false
#   enable_sentence: false
#   sentence_over_completion: false
#   enable_completion: false
#   enable_user_dict: false  #true
#   disable_user_dict_for_patterns:
#     - "^b.+$"  # ç¬¦è™Ÿå‰ç¶´é–‹é ­ä¸èª¿é »
#     # - "^.$"  # å–®ç¢¼ä¸èª¿é »


##### è¡Œåˆ—10å½±å­ç¿»è­¯å™¨ #####ï¼ˆåŠŸç”¨ï¼šè½‰çµ¦å³é‚Šæ•¸å­—éµç›¤ä½¿ç”¨ï¼‰
shadow_top:
  __include: /translator
  tag: shadow_top
  prefix: "```"
  # suffix: "'"
  tips: "ã€Šå½±ã€‹â–¶"
  closing_tips: "â—€ã€Šå½±ã€‹"
  # extra_tags:
  #   - second_phrases


##### ä½¿ç”¨æ³¨éŸ³åæŸ¥è¡Œåˆ—10ç¢¼ #####
reverse2_lookup:
  tag: reverse2_lookup
  dictionary: "Mount_bopomo.extended"
  # prism: "Mount_bopomo.extended"
  # enable_charset_filter: false
  enable_completion: false
  enable_user_dict: true
  prefix: "`"
  suffix: "'"
  tips: "ã€Šæ³¨éŸ³åæŸ¥ã€‹â–¶"
  closing_tips: "â—€ã€Šæ³¨éŸ³åæŸ¥ã€‹"
  preedit_format:
    - "xlit|1qaz2wsxedcrfv5tgbyhnujm8ik,9ol.0p;/- 6347|ã„…ã„†ã„‡ã„ˆã„‰ã„Šã„‹ã„Œã„ã„ã„ã„ã„‘ã„’ã„“ã„”ã„•ã„–ã„—ã„˜ã„™ã„§ã„¨ã„©ã„šã„›ã„œã„ã„ã„Ÿã„ ã„¡ã„¢ã„£ã„¤ã„¥ã„¦Ë‰ËŠË‡Ë‹Ë™|"
    - xform/^/ã€Šæ³¨éŸ³åæŸ¥ã€‹/
    - xform/\|/  /


##### ä½¿ç”¨è¡Œåˆ—10åæŸ¥æ³¨éŸ³ç¢¼ #####
reverse3_lookup:
  __include: /translator  #/second_phrases
  tag: reverse3_lookup
  enable_user_dict: false  #true
  prefix: "``"
  suffix: "'"
  tips: "ã€ŠæŸ¥æ³¨éŸ³ã€‹â–¶"
  closing_tips: "â—€ã€ŠæŸ¥æ³¨éŸ³ã€‹"
  preedit_format:
    __include: translator/preedit_format
    __append:
    - xform/^/ã€ŠæŸ¥æ³¨éŸ³ã€‹/


##### æ¿¾é¡ï¼šç°¡é«”è½‰æ› #####
zh_cn:
  opencc_config: tw2s.json
  # tips: all  # ä¸æ¨™è¨»è½‰æ›å‰ã€Œå­—ç¬¦ã€
  tags: [ abc, shadow_top ]


##### æ¿¾é¡ï¼šæ¨™è¨»è©²å­—è¡Œåˆ—10ç·¨ç¢¼ #####
array10_reverse_lookup:
  tags: [ abc, shadow_top, reverse2_lookup ]  #second_phrases
  overwrite_comment: false #true
  dictionary: onion-array10.extended
  comment_format:
    #### ç·¨ç¢¼ç‚º[zxcvsdfwer]+æ™‚
    - xform/([zxcvsdfwerb]+)/ã€”$1ã€•/
    - "xlit|zxcvsdfwerb|0123456789.|"
    - xform/[.]/ . /
    #### ç·¨ç¢¼ç‚º[0-9]+æ™‚
    # - xform/@/./
    # - xform/([.\d]+)/ã€”$1ã€•/
    # - xform/[.]ã€•/ã€•/
    # - xform/ //
    # # - "xlit|0123456789|ï¼ï¼‘ï¼’ï¼“ï¼”ï¼•ï¼–ï¼—ï¼˜ï¼™|"


##### æ¿¾é¡ï¼šæ¨™è¨»è©²å­—æ³¨éŸ³ #####
bpmf_reverse_lookup:
  tags: [ reverse3_lookup ]
  dictionary: "Mount_bopomo.extended"
  overwrite_comment: true
  comment_format:
    - xform/iu/iU/ #iou
    - xform/ui/uI/ #uei
    - xform/ong/ung/
    - xform/yi?/i/
    - xform/wu?/u/
    - xform/iu/v/
    - xform/([jqx])u/$1v/
    - xform/([iuv])n/$1en/
    - xform/zhi?/Z/
    - xform/chi?/C/
    - xform/shi?/S/
    - xform/([zcsr])i/$1/
    - xform/ai/A/
    - xform/ei/I/
    - xform/ao/O/
    - xform/ou/U/
    - xform/ang/K/
    - xform/eng/G/
    - xform/an/M/
    - xform/en/N/
    - xform/er/R/
    - xform/eh/E/
    - xform/([iv])e/$1E/
    - "xlit|bpmfdtnlgkhjqxZCSrzcsiuvaoeEAIOUMNKGR12345|ã„…ã„†ã„‡ã„ˆã„‰ã„Šã„‹ã„Œã„ã„ã„ã„ã„‘ã„’ã„“ã„”ã„•ã„–ã„—ã„˜ã„™ã„§ã„¨ã„©ã„šã„›ã„œã„ã„ã„Ÿã„ ã„¡ã„¢ã„£ã„¤ã„¥ã„¦Ë‰ËŠË‡Ë‹Ë™|"
    - xform/^/ /
    - xform/ /  /
#    - xform/ /] [/
#    - xform/^/  [/
#    - xform/$/]/


##### æ¿¾é¡ï¼šç¼ºæ¼è£œ #####
punct_preedit_revise_filter:
  tags: [ punct ]


##### æ¿¾é¡ï¼šcomment é®å± #####
# comment_filter_array10:
# filter_comment_filter_array10:  # ä¸€å®šè¦å†ã€Œ@ã€æ‰èƒ½ç”¨ã€Œtags:ã€é™å®šã€‚
comment_filter_plus:
  tags: [ abc, shadow_top ]  #second_phrases


##### æ¨™é»ç¬¦è™Ÿ #####
punctuator:
  # import_preset: default
  # digit_separator_action: commit
  # digit_separators: ":"  #"."
  full_shape:
    "`" : [ "ï½€" ]
  half_shape:
    "`" : [ "`" ]
  symbols:
    "``" : [ "``" ]
    # "```" : [ "```" ]


##### æŒ‰éµè¨­å®š #####
key_binder:
  import_preset: default
  bindings:
### é¿ RIME åŸè¨­å®šéµä½è¡çª ###
    - {accept: comma, send: comma, when: has_menu}
    - {accept: comma, send: comma, when: paging}
    - {accept: period, send: period, when: has_menu}
    - {accept: period, send: period, when: paging}
    - {accept: minus, send: minus, when: has_menu}
    - {accept: minus, send: minus, when: paging}
    - {accept: equal, send: equal, when: has_menu}
    - {accept: equal, send: equal, when: paging}
#    - {accept: equal, send: equal, when: always}
### åˆ‡åˆ†ç§»ä½ ###
    - {accept: Up, send: Shift+Left, when: composing}  # å·¦ç§»ä¸€æ•´å€‹å­—
    - {accept: Up, send: Up, when: paging}  # ä¿®æ­£ä¸Šæ¢ç›®å‡ºç¾çš„bug
    - {accept: Left, send: KP_Left, when: composing}  # å·¦ç§»ä¸€å€‹å­—æ¯
##
    # - {accept: Shift+Right, send: Right, when: composing}  # å³ç§»ä¸€å€‹å­—æ¯
    # - {accept: Shift+Left, send: KP_Left, when: composing}  # å·¦ç§»ä¸€å€‹å­—æ¯
### é¸å­—ç¿»é  ###
    - {accept: Left, send: Page_Up, when: paging}
    - {accept: Right, send: Page_Down, when: paging}
#    - {accept: Up, send: Page_Up, when: paging}  # æ©«å¼é¸å–®ç”¨
#    - {accept: Down, send: Page_Down, when: paging}  # æ©«å¼é¸å–®ç”¨
#    - {accept: Left, send: Left, when: has_menu}  # æ©«å¼é¸å–®ç”¨  #send: Shift+Up
#    - {accept: Right, send: Right, when: has_menu}  # æ©«å¼é¸å–®ç”¨  #send: Shift+Down  #send: Right
    - {accept: Shift+Up, send: Page_Up, when: has_menu}  # é¸å­—æ™‚ã€ŒShiftã€+ã€Œä¸Šã€ç¿»é ã€‚
    - {accept: Shift+Down, send: Page_Down, when: has_menu}  # é¸å­—æ™‚ã€ŒShiftã€+ã€Œä¸‹ã€ç¿»é ã€‚
    - {accept: Shift+Tab, send: Page_Up, when: has_menu}  # é¸å­—æ™‚ã€ŒShiftã€+ã€Œtabã€ç¿»é ã€‚
    - {accept: Shift+space, send: Page_Down, when: has_menu}  # é¸å­—æ™‚ã€ŒShiftã€+ã€Œç©ºç™½éµã€ç¿»é ã€‚ #send: Right  #send: Down
    # - {accept: Tab, send: Page_Down, when: has_menu}  # ã€Œtabã€ç¿»é ã€‚
    # - {accept: Tab, send: Shift+Left, when: paging}
    # - {accept: Tab, send_sequence: "{Shift+Left}{Shift+Left}", when: paging}  # å›åˆ°ã€Œç©ºç™½éµã€éé¸æ“‡ä¸Šå±ã€‚
##
    - {accept: q, send: Page_Up, when: always}
    - {accept: a, send: Page_Down, when: always}
### åˆªé™¤ ###
    - {accept: t, send: BackSpace, when: always}
##å›å¾©åˆ° composing ç‹€æ…‹ï¼š
    - {accept: Tab, send: Shift+Left, when: paging}  # æ–¼é¸å–®åˆ—é¸å­—æ™‚ï¼Œå›å¾©åˆ°è¼¸å…¥åˆ—ï¼ˆé¿å…æœ‰æ™‚å›å¾©ä¸äº†ï¼Œæ•…å¢åŠ ï¼‰ã€‚
### ç©ºç™½éµ ###
    # - {accept: space, send: Escape, when: composing}  # ç©ºç¢¼æ¸…å±ç”¨
    # - {accept: space, send: space, when: has_menu}  # è£œä¸Šä¸€æ¢ç”¢ç”Ÿä¹‹bug
    # - {accept: space, send: Return, when: paging}  # æ–¹å‘éµé¸å­—æ™‚ï¼Œspaceç›´æ¥ä¸Šå±ï¼ˆé¿å…è¢«ç©ºæ ¼å½±éŸ¿ï¼‰
##
    # - {accept: KP_Space, send: Escape, when: composing}  # ç©ºç¢¼æ¸…å±ç”¨
    # - {accept: KP_Space, send: space, when: has_menu}  # è£œä¸Šä¸€æ¢ç”¢ç”Ÿä¹‹bug
    # - {accept: KP_Space, send: KP_Space, when: has_menu}  # è£œä¸Šä¸€æ¢ç”¢ç”Ÿä¹‹bug
### å·¦é‚Šé¸å­— ### 
    # - {accept: Shift+Q, send: Control+1, when: has_menu}
    # - {accept: Shift+A, send: Control+2, when: has_menu}
    # - {accept: Shift+Z, send: Control+3, when: has_menu}
    # - {accept: Shift+W, send: Control+4, when: has_menu}
    # - {accept: Shift+S, send: Control+5, when: has_menu}
    # - {accept: Shift+X, send: Control+6, when: has_menu}
    # - {accept: Shift+E, send: Control+7, when: has_menu}
    # - {accept: Shift+D, send: Control+8, when: has_menu}
    # - {accept: Shift+C, send: Control+9, when: has_menu}
    # - {accept: Shift+R, send: Control+0, when: has_menu}
###  åŠŸèƒ½å¿«æ·éµ ###
    - { accept: Shift+space, toggle: ascii_mode, when: always }
    # - { accept: Control+Shift+space, toggle: ascii_mode, when: always }
## ä¸‹æ’èˆŠçš„å¾ªç’°åˆ‡æ›
    # - { accept: Control+comma, toggle: ascii_mode, when: always }
    # - { accept: Control+period, toggle: full_shape, when: always }
    # - { accept: Control+semicolon, toggle: simplification, when: always }
    # - { accept: Control+slash, toggle: ascii_punct, when: always }
    # - { accept: Control+apostrophe, toggle: extended_charset, when: always }
    # - { accept: Control+bracketleft, toggle: simplify_comment, when: always }  # ç·¨ç¢¼æç¤ºé–‹é—œ
    # - { accept: Control+bracketright, toggle: switch_key_board, when: always }
## ä¸Šæ’åˆ‡æ›(Mac)
    - { accept: Control+Shift+7, toggle: simplify_comment, when: always }  # ç·¨ç¢¼æç¤ºé–‹é—œ
    - { accept: Control+Shift+8, toggle: switch_key_board, when: always }
## ä¸Šæ’åˆ‡æ›(Win)
    - { accept: Control+Shift+ampersand, toggle: simplify_comment, when: always }  # ç·¨ç¢¼æç¤ºé–‹é—œ
    - { accept: Control+Shift+asterisk, toggle: switch_key_board, when: always }
## åˆ‡æ›æ¨£æ…‹
    - { accept: Control+comma, set_option: ascii_mode, when: always }
    - { accept: Control+period, set_option: full_shape, when: always }
    - { accept: Control+semicolon, set_option: simplification, when: always }
    - { accept: Control+slash, set_option: ascii_punct, when: always }
    - { accept: Control+apostrophe, unset_option: extended_charset, when: always }
    - { accept: Control+bracketleft, set_option: simplify_comment, when: always }  # ç·¨ç¢¼æç¤ºé–‹é—œ
    - { accept: Control+bracketright, set_option: switch_key_board, when: always }
## åˆå§‹æ¨£æ…‹(Mac)
    - { accept: Control+Shift+comma, unset_option: ascii_mode, when: always }
    - { accept: Control+Shift+period, unset_option: full_shape, when: always }
    - { accept: Control+Shift+semicolon, unset_option: simplification, when: always }
    - { accept: Control+Shift+slash, unset_option: ascii_punct, when: always }
    - { accept: Control+Shift+apostrophe, set_option: extended_charset, when: always }
    - { accept: Control+Shift+bracketleft, unset_option: simplify_comment, when: always }  # ç·¨ç¢¼æç¤ºé–‹é—œ
    - { accept: Control+Shift+bracketright, unset_option: switch_key_board, when: always }
## åˆå§‹æ¨£æ…‹(Win)
    - { accept: Control+Shift+less, unset_option: ascii_mode, when: always }
    - { accept: Control+Shift+greater, unset_option: full_shape, when: always }
    - { accept: Control+Shift+colon, unset_option: simplification, when: always }
    - { accept: Control+Shift+question, unset_option: ascii_punct, when: always }
    - { accept: Control+Shift+quotedbl, set_option: extended_charset, when: always }
    - { accept: Control+Shift+braceleft, unset_option: simplify_comment, when: always }  # ç·¨ç¢¼æç¤ºé–‹é—œ
    - { accept: Control+Shift+braceright, unset_option: switch_key_board, when: always }
# ### Return/Enteréµ ###
#     - {accept: Return, send: KP_Space, when: paging}  # é¸å­—æ™‚ Return/Enter éµåŒç©ºç™½éµä¸Šå±ä¸­æ–‡
#     - {accept: KP_Enter, send: KP_Space, when: paging}  # é¸å­—æ™‚å³å´å°éµç›¤ Return/Enter éµåŒç©ºç™½éµä¸Šå±ä¸­æ–‡
# ### Return/Enteréµä¸Šå±ï¼ˆåŸç‚ºcustomæª”ï¼‰ ###
#     # - {accept: Return, send: space, when: has_menu}  # æœ‰é¸å–®æ™‚ Return/Enter éµåŒç©ºç™½éµä¸Šå±ä¸­æ–‡
#     - {accept: Return, send: KP_Space, when: has_menu}  # æœ‰é¸å–®æ™‚ Return/Enter éµç›´æ¥ä¸Šå±ç¾ä¸‹ä¸­æ–‡
#     - {accept: Return, send: Escape, when: composing}  # ç©ºç¢¼æ¸…å±ç”¨
#     # - {accept: KP_Enter, send: space, when: has_menu}  # æœ‰é¸å–®æ™‚å³å´å°éµç›¤ Return/Enter éµåŒç©ºç™½éµä¸Šå±ä¸­æ–‡
#     - {accept: KP_Enter, send: KP_Space, when: has_menu}  # æœ‰é¸å–®æ™‚å³å´å°éµç›¤ Return/Enter éµç›´æ¥ä¸Šå±ç¾ä¸‹ä¸­æ–‡
#     - {accept: KP_Enter, send: Escape, when: composing}  # ç©ºç¢¼æ¸…å±ç”¨
#     # - {accept: Shift+Return, send: Return, when: composing}  # ä¸Šæ–¹å››å€‹é–‹å•Ÿæ™‚è£œå……ç”¨ï¼ˆæ”¹ç”¨ editor/bindings å¯¦ç¾ï¼‰ã€‚
### æ¸¬è©¦ç”¨ ###
    # - {accept: Control+minus, toggle: ascii_mode, when: always}
### END ###

# key1:
#   bindings:
    # __include: /key_binder/bindings
    # __append:
### è½‰æ›å°éµç›¤ï¼ˆåˆå§‹ï¼‰ ###
    - {accept: KP_0, send_sequence: "{grave}{grave}{grave}{z}", when: always}
    - {accept: KP_1, send_sequence: "{grave}{grave}{grave}{x}", when: always}
    - {accept: KP_2, send_sequence: "{grave}{grave}{grave}{c}", when: always}
    - {accept: KP_3, send_sequence: "{grave}{grave}{grave}{v}", when: always}
    - {accept: KP_4, send_sequence: "{grave}{grave}{grave}{s}", when: always}
    - {accept: KP_5, send_sequence: "{grave}{grave}{grave}{d}", when: always}
    - {accept: KP_6, send_sequence: "{grave}{grave}{grave}{f}", when: always}
    - {accept: KP_7, send_sequence: "{grave}{grave}{grave}{w}", when: always}
    - {accept: KP_8, send_sequence: "{grave}{grave}{grave}{e}", when: always}
    - {accept: KP_9, send_sequence: "{grave}{grave}{grave}{r}", when: always}
    - {accept: KP_Decimal, send_sequence: "{grave}{grave}{grave}{b}", when: always}
### è½‰æ›å°éµç›¤ï¼ˆæœ‰é–‹é ­å¾Œï¼‰ ###
    - {accept: KP_0, send: z, when: composing}
    - {accept: KP_1, send: x, when: composing}
    - {accept: KP_2, send: c, when: composing}
    - {accept: KP_3, send: v, when: composing}
    - {accept: KP_4, send: s, when: composing}
    - {accept: KP_5, send: d, when: composing}
    - {accept: KP_6, send: f, when: composing}
    - {accept: KP_7, send: w, when: composing}
    - {accept: KP_8, send: e, when: composing}
    - {accept: KP_9, send: r, when: composing}
    - {accept: KP_Decimal, send: b, when: composing}
## ä»¥ä¸‹ä¸è¦è¨­æˆï¼š{ when: always }
    - {accept: KP_Subtract, send: BackSpace, when: has_menu}
    - {accept: KP_Divide, send: Page_Up, when: has_menu}
    - {accept: KP_Multiply, send: Page_Down, when: composing}
    - {accept: KP_Add, send: g, when: composing}
# ### ä»¥ä¸‹ç„¡ä½œç”¨ï¼šè¨­æˆç™¼é€ç‚ºç©ºæŒ‰éµï¼Œç„¡ä½œç”¨ ###
#     - {accept: KP_0, send: Shift+Z, when: always}
#     - {accept: KP_1, send: Shift+X, when: always}
#     - {accept: KP_2, send: Shift+C, when: always}
#     - {accept: KP_3, send: Shift+V, when: always}
#     - {accept: KP_4, send: Shift+S, when: always}
#     - {accept: KP_5, send: Shift+D, when: always}
#     - {accept: KP_6, send: Shift+F, when: always}
#     - {accept: KP_7, send: Shift+W, when: always}
#     - {accept: KP_8, send: Shift+E, when: always}
#     - {accept: KP_9, send: Shift+R, when: always}
#     - {accept: KP_Decimal, send: Shift+B, when: always}
### æ¸¬è©¦ç”¨ ###
    # - {accept: Control+minus, toggle: simplify_comment, when: always}
### END ###

# key2:
#   bindings:
    # __include: /key_binder/bindings
    # __append:
### è½‰æ›è‹±æ–‡éµç›¤å³é‚Šï¼ˆåˆå§‹ï¼‰ ###
    - {accept: n, send: z, when: always}
    - {accept: u, send: x, when: always}
    - {accept: i, send: c, when: always}
    - {accept: o, send: v, when: always}
    - {accept: j, send: s, when: always}
    - {accept: k, send: d, when: always}
    - {accept: l, send: f, when: always}
    - {accept: m, send: w, when: always}
    - {accept: comma, send: e, when: always}
    # - {accept: period, send: r, when: always}  # é–‹å•Ÿæœ‰ bug
    - {accept: slash, send: b, when: always}
### è½‰æ›è‹±æ–‡éµç›¤å³é‚Šï¼ˆæœ‰é–‹é ­å¾Œï¼‰ ###
    - {accept: n, send: z, when: composing}
    - {accept: u, send: x, when: composing}
    - {accept: i, send: c, when: composing}
    - {accept: o, send: v, when: composing}
    - {accept: j, send: s, when: composing}
    - {accept: k, send: d, when: composing}
    - {accept: l, send: f, when: composing}
    - {accept: m, send: w, when: composing}
    - {accept: comma, send: e, when: composing}
    - {accept: comma, send: e, when: has_menu}
    - {accept: comma, send: e, when: paging}
    # - {accept: period, send: r, when: composing}  # é–‹å•Ÿæœ‰ bug
    # - {accept: period, send: r, when: has_menu}  # é–‹å•Ÿæœ‰ bug
    # - {accept: period, send: r, when: paging}  # é–‹å•Ÿæœ‰ bug
    - {accept: slash, send: b, when: composing}
### è‹±æ–‡éµç›¤å³é‚Šï¼šé¸å­—ç¿»é  ###
    - {accept: y, send: Page_Up, when: always}
    - {accept: h, send: Page_Down, when: always}
### è‹±æ–‡éµç›¤å³é‚Šï¼šåˆªé™¤ ###
    - {accept: p, send: BackSpace, when: always}
### è‹±æ–‡éµç›¤å³é‚Šï¼šè½‰æ› ###
    - {accept: semicolon, send: g, when: composing}
### æœ‰ç¢¼æ‰æœ‰ä½œç”¨ï¼Œåˆ»æ„åˆå§‹ç„¡æ•ˆåŒ–ï¼Œé˜²èª¤æŒ‰ ###
    - {accept: g, send: Shift_L, when: always}
    - {accept: semicolon, send: Shift_L, when: always}
### END ###


##### æŒ‰éµç¶å®š #####
editor:
  bindings:
    # space: toggle_selection
    # space: commit_composition
    KP_Space: confirm
    Return: confirm  # ä½¿ç”¨ express_editor æ™‚é–‹å•Ÿ #commit_composition
    KP_Enter: confirm  # ä½¿ç”¨ express_editor æ™‚é–‹å•Ÿ #commit_composition
    Shift+Return: commit_raw_input  # ä¸Šå±åŸå§‹è¼¸å…¥


##### æ®µè½è­˜åˆ¥å™¨ #####
recognizer:
  patterns:
    punct: "(?<!`)``$"  #"(?<!`)``$|```"$
    shadow_top: "```[zxcvsdfwerb]*$"
    reverse2_lookup: "(?<!`)`[-.,;/0-9a-z ]*'?$"  # å»é™¤é–‹é ­ã€Œ^ã€é™å®šï¼Œä½¿å…¶æ¥çºŒä¸è·³æ‰ã€‚ï¼ˆèˆŠçš„luaå¯«æ³•éœ€é€™æ¨£è¨­å®šï¼ï¼‰
    # reverse2_lookup: "`[^`][-.,;/0-9a-z ]*'?$"  #å¯æ›¿ä»£ä¸Šæ¢åˆ—ï¼Œå¯æ¥çºŒèª¿å‡ºï¼Œä½†é–‹é ­ç„¡ã€Šæ³¨éŸ³åæŸ¥ã€‹â–¶æç¤ºã€‚
    # reverse2_lookup: "^`[-.,;/0-9a-z ]*'?$"
    reverse3_lookup: "(?<!`)``[zxcvsdfwerb]*'?$"


#### å€‹åˆ¥æ–¹æ¡ˆç‰¹åˆ¥æŒ‡å®šæ¨£å¼ï¼ˆä¸ä½¿ç”¨é è¨­å€¼ï¼‰ #####
style:
  inline_preedit: true
  candidate_list_layout: stacked  #linear  #stacked
  horizontal: false

