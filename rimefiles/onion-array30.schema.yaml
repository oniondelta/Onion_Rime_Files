# Rime schema settings
# encoding: utf-8

schema:
  schema_id: onion-array30
  name: "â–¦ è¡Œåˆ—ï¼“ï¼ï¼ˆæ´‹è”¥ç‰ˆï¼‰"
  version: "202512"
  author:
    - æ´‹è”¥
  description: |
    è¡Œåˆ—30
  dependencies:
    - onion-array30-wsymbols #ï¼ˆå¯ç”¨ symbols æ›´ç°¡å–®å¯¦ç¾ï¼Œä½†æ²’æœ‰é–‹é ­æç¤ºï¼‰
    - Mount_bopomo


switches:
  - name: ascii_mode
    reset: 0
    states: [ ä¸­æ–‡, è‹±æ–‡ ]
  - name: full_shape
    reset: 0
    states: [ åŠå½¢, å…¨å½¢ ]
  - name: ascii_punct
    reset: 0
    states: [ "ã€‚ï¼Œ", "ï¼ï¼Œ" ]
  - name: simplification
    reset: 0
    states: [ ç¹é«”, ç®€ä½“ ]
  - name: extended_charset
    reset: 1
    states: [ "å¸¸ç”¨", "å¢å»£" ]
  - name: simplify_comment
    # reset: 1
    states: [ ç·¨ç¢¼, ç„¡ç·¨ ]
  # - name: unicode_comment
  #   reset: 0
  #   states: [ 'ğŸ„½', 'ğŸ…„' ]
    # states: [ 'nil', 'Unicode(URL)' ]
  # - name: debug_comment
  #   reset: 0
    # states: [ 'â“ƒ', 'â’¹' ]
    # states: [ 'normal', 'Debug' ]
  # - name: 1_2_straight_up
  #   reset: 0
  #   states: [ é¦™è‰, ç›´ä¸Š ]
  - name: array30_space_wp
    reset: 1
    states: [ ä¸Šå±, ç¿»é  ]  #[ ç¢ºèª, ç¿»é  ]
    # states: [ "Confirm", "Paging" ]
  # - name: array30_return_abc  --æ”¹ç”¨ã€Œarray30_space_wpã€é€£å‹•ä½œç”¨
  #   reset: 1
  #   states: [ "Return & Space", "Space" ]


engine:
  filters:
    - simplifier@zh_cn
    - reverse_lookup_filter@array30_reverse_lookup
    - lua_filter@punct_preedit_revise_filter
    # - lua_filter@mix30_nil_comment_up_filter
    - lua_filter@mix30_nil_comment_new_filter
    # - lua_filter@mix30_nil_comment_filter
    # - lua_filter@array30_spaceup_filter
    # - lua_filter@array30_comment_filter #å¾Œé¢è¨»è§£é–‹é—œæ¿¾é¡ã€‚
    - lua_filter@array30_nil_filter #æŠŠé¸å­—å–®ä¸­ç©ºç¢¼ç¬¦è™Ÿè½‰æ›ç‚º""ï¼Œä¸”ä¸æœƒä¸Šå±ã€‚ã€Œ=ã€ã€Œ=ã€åæŸ¥ç”¨ã€‚
    - reverse_lookup_filter@array30-zy_reverse_lookup
    - reverse_lookup_filter@bpmf_reverse_lookup
    # - uniquifier
    # - lua_filter@comment_filter_unicode  # unicode å’Œ debug åˆ†é–‹ï¼ŒåŒæ™‚é–‹å•Ÿç„¡æ³•è¨˜æ†¶
    # - lua_filter@comment_filter_debug  # unicode å’Œ debug åˆ†é–‹ï¼ŒåŒæ™‚é–‹å•Ÿç„¡æ³•è¨˜æ†¶
    # - lua_filter@comment_filter_unicode_debug
    # - single_char_filter
  processors:
    # - lua_processor@array30up_mix
    - lua_processor@array30new_mix
    # - lua_processor@array30up #ä¸‰ã€å››ã€äº”ç¢¼ç©ºç™½éµç›´ä¸Šå±
    # - lua_processor@array30up_zy #æ³¨éŸ³åæŸ¥ Return å’Œ space ä¸Šå±ä¿®æ­£ã€‚ #æ¶æ§‹é—œä¿‚ï¼ŒåæŸ¥è¼¸å…¥æ³•ä½¿ç”¨éµä½å¤§æ–¼ä¸»è¼¸å…¥æ³•ï¼Œä»æœƒç”¢ç”Ÿ Bugã€‚
    - ascii_composer
    - recognizer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
    # - fluency_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - lua_segmentor@mount_zhuyin
    - abc_segmentor #ä¸€å®šè¦æ”¾åœ¨ã€Œaffix_segmentorã€å‰
    - affix_segmentor@wsymbols #ï¼ˆå¯ç”¨ symbols æ›´ç°¡å–®å¯¦ç¾ï¼Œä½†æ²’æœ‰é–‹é ­æç¤ºï¼‰
    - affix_segmentor@reverse2_lookup
    - affix_segmentor@reverse3_lookup
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    # - script_translator
    - table_translator
    - table_translator@wsymbols #ï¼ˆå¯ç”¨ symbols æ›´ç°¡å–®å¯¦ç¾ï¼Œä½†æ²’æœ‰é–‹é ­æç¤ºï¼‰
    - script_translator@reverse2_lookup
    - table_translator@reverse3_lookup
    - lua_translator@mf_translator
    # - lua_translator@t_translator
    - lua_translator@email_url_translator


mf_translator:
  prefix: "`"


zh_cn:
  opencc_config: tw2s.json
  tips: all
  tags: [ abc ]

punct_preedit_revise_filter:
  tags: [ punct ]

# mix30_nil_comment_up_filter:
mix30_nil_comment_new_filter:
  tags: [ abc ]

array30_nil_filter:
  tags: [ reverse3_lookup ]

# mix30_nil_comment_filter:
#   tags: [ reverse3_lookup ]

# array30_spaceup_filter:
#   tags: [ abc ]


menu:
  alternative_select_keys: "1234567890"
  page_size: 10


##### æ‹¼å¯«è™•ç†å™¨ #####
speller:
  alphabet: "abcdefghijklmnopqrstuvwxyz,./; '"
  initials: "abcdefghijklmnopqrstuvwxyz,./;"
  finals: " '"
  delimiter: "|"
  use_space: true
  auto_select: true
  # auto_select_pattern: '^[a-z,./;]{1,2} $' #'^[wtasfhlxv] $|^[a-z,./;]{2} $' #|[a-z,./;]{3} |[a-z,./;]{4} |[a-z,./;]{4}i ' #ä¸‰ã€å››ã€äº”ç¢¼æœƒæœ‰éç¨ç¢¼ï¼Œæ•…ç”¨ Lua å¯¦ç¾ç©ºç™½éµç›´ä¸Šã€‚
  # auto_select_pattern: '^[a-z,./;]{1,5} $'
  auto_select_pattern: '^[a-z,./;]{1,4}i? $'
  algebra:
    - xform/@@/ /
    - xform/@/ /
    - xform/ ~/ /
    # - derive|^([a-z,./;]{3})$|$1 |
    # - derive|^([a-z,./;]{4})$|$1 |
    # - derive|^([a-z,./;]{4}i)$|$1 |
    - derive|^([a-z,./;]{3,4}i?)$|$1 |
    # - derive|^([a-z,./;]+)'$|$1| #è©åº« #åŸè¨­å®š
    # - derive|^([a-z,./;]+)'$|$1 | #è©åº«
    # - derive|^([a-z,./;]+)'$|$1 '| #è©åº« #æœƒæœ‰å•é¡Œï¼
    # - derive|^([a-z,./;]{3,4})'$|$1 | #è©åº«

    # "?"è¬ç”¨å­—å…ƒï¼ˆéƒ¨ç½²ä¸äº†!ï¼‰
    # - derive/^(.).$/$1\?/               # .?
    # - derive/^.(.)$/\?$1/               # ?.
    # - derive/^(.)(.).$/$1$2\?/          # ..?
    # - derive/^(.).(.)$/$1\?$2/          # .?.
    # - derive/^(.)..$/$1\?\?/            # .??
    # - derive/^.(.)(.)$/\?$1$2/          # ?..
    # - derive/^.(.).$/\?$1\?/            # ?.?
    # - derive/^..(.)$/\?\?$1/            # ??.
    # - derive/^(.)(.)(.).$/$1$2$3\?/     # ...?
    # - derive/^(.)(.).(.)$/$1$2\?$3/     # ..?.
    # - derive/^(.)(.)..$/$1$2\?\?/       # ..??
    # - derive/^(.).(.)(.)$/$1\?$2$3/     # .?..
    # - derive/^(.).(.).$/$1\?$2\?/       # .?.?
    # - derive/^(.)..(.)$/$1\?\?$2/       # .??.
    # - derive/^(.)...$/$1\?\?\?/         # .???
    # - derive/^.(.)(.)(.)$/\?$1$2$3/     # ?...
    # - derive/^.(.)(.).$/\?$1$2\?/       # ?..?
    # - derive/^.(.).(.)$/\?$1\?$2/       # ?.?.
    # - derive/^.(.)..$/\?$1\?\?/         # ?.??
    # - derive/^..(.)(.)$/\?\?$1$2/       # ??..
    # - derive/^..(.).$/\?\?$1\?/         # ??.?
    # - derive/^...(.)$/\?\?\?$1/         # ???.


##### è¡Œåˆ—30ä¸»ç¿»è­¯å™¨ #####
translator:
  dictionary: onion-array30.extended
  prism: onion-array30
  enable_charset_filter: true
  # enable_encoder: false #true ##æ‰“è©æ™‚ï¼Œå¯ä½¿ç”¨ç°¡ç•¥æ‰“æ³•ï¼Œç°¡ç•¥æ‰“æ³•çš„è¦å‰‡åœ¨å­—å…¸ä¸­è¨­å®šã€‚
  # encode_commit_history: false #true
  enable_sentence: false #true ##æ­¤ç‚ºè‡ªå‹•é€ å¥ï¼Œç‚ºæ‰“è©æ™‚ï¼Œä½¿ç”¨å…¨æ‹¼ã€‚
  enable_completion: false #é€ç¢¼æç¤º
  # sentence_over_completion: false
  enable_user_dict: false #true
  # strict_spelling: true #false #é…åˆspellerä¸­çš„fuzzè¦å‰‡ï¼Œåƒ…ä»¥ç•§æ‹¼ç¢¼çµ„è©ã€”åƒ…table_translatoræœ‰æ•ˆï¼Ÿã€•å¯¦éš›å¥½åƒscript_translatoræ‰æœ‰æ•ˆï¼Ÿ
  # max_phrase_length: 7 #4
  # initial_quality: 1000
  # db_class: tabledb #userdb
  preedit_format:
    - xform/a/1-/
    - xform/b/5â‡£/
    - xform/c/3â‡£/
    - xform/d/3-/
    - xform/e/3â‡¡/
    - xform/f/4-/
    - xform/g/5-/
    - xform/h/6-/
    - xform/i/8â‡¡/
    - xform/j/7-/
    - xform/k/8-/
    - xform/l/9-/
    - xform/m/7â‡£/
    - xform/n/6â‡£/
    - xform/o/9â‡¡/
    - xform/p/0â‡¡/
    - xform/q/1â‡¡/
    - xform/r/4â‡¡/
    - xform/s/2-/
    - xform/t/5â‡¡/
    - xform/u/7â‡¡/
    - xform/v/4â‡£/
    - xform/w/2â‡¡/
    - xform/x/2â‡£/
    - xform/y/6â‡¡/
    - xform/z/1â‡£/
    - xform|\.|9â‡£|
    - xform|[/]|0â‡£|
    - xform|;|0-|
    - xform|,|8â‡£|
    - xform/ /â–«/
    # - xform/\|/  /
  comment_format:
    - 'xform|^.{100}.+||'
    # - xform| [a-z,./;]{3,5}@||
    - xform|([a-z,./;]{3,4}i?)|$1âŠ¡|  # â–« â–ª âš€ â—½ï¸ ğŸ• ã€¼ â—ª âŠ¡ âŠ  âŠŸ âŠ â§„ â§… â§† â§‡ â§ˆ â§  â§® â§¯
    - xform|âŠ¡'|'|
    - xform/a/1-/
    - xform/b/5â‡£/
    - xform/c/3â‡£/
    - xform/d/3-/
    - xform/e/3â‡¡/
    - xform/f/4-/
    - xform/g/5-/
    - xform/h/6-/
    - xform/i/8â‡¡/
    - xform/j/7-/
    - xform/k/8-/
    - xform/l/9-/
    - xform/m/7â‡£/
    - xform/n/6â‡£/
    - xform/o/9â‡¡/
    - xform/p/0â‡¡/
    - xform/q/1â‡¡/
    - xform/r/4â‡¡/
    - xform/s/2-/
    - xform/t/5â‡¡/
    - xform/u/7â‡¡/
    - xform/v/4â‡£/
    - xform/w/2â‡¡/
    - xform/x/2â‡£/
    - xform/y/6â‡¡/
    - xform/z/1â‡£/
    - xform|\.|9â‡£|
    - xform|[/]|0â‡£|
    - xform|;|0-|
    - xform|,|8â‡£|
    - xform/^/ /
    - xform/ /    /
    - xform/@@/â–«/  # â–¡
    - xform/@~/â–ª/  # â–  #è©²å‰‡ä¸è¦éš¨æ„æ›´å‹•ï¼Œæ¬²å‹•å¿…é ˆæ”¹å‹• Lua ç›¸æ‡‰ç¨‹å¼ç¢¼ï¼Œå¦å‰‡æœƒæœ‰ Bugã€‚
    - xform/@/â–«/  # â–¡


array30_reverse_lookup:
  tags: [ abc ]
  overwrite_comment: true #false
  dictionary: onion-array30.extended
  comment_format:
    __include: translator/comment_format


##### æ›æ¥è¡Œåˆ—30ç¬¦è™Ÿ #####ï¼ˆå¯ç”¨ symbols æ›´ç°¡å–®å¯¦ç¾ï¼Œä½†æ²’æœ‰é–‹é ­æç¤ºï¼‰
wsymbols:
  tag: wsymbols
  dictionary: onion-array30-wsymbols  # onion-array30-wsymbols_20230211
  # enable_charset_filter: false
  # enable_encoder: false
  # encode_commit_history: false
  enable_sentence: false
  enable_completion: false
  # sentence_over_completion: false
  enable_user_dict: false
  preedit_format:
    - xform/^/ã€”ç¬¦ã€•/
    - xform/w/2â‡¡/


##### ä½¿ç”¨æ³¨éŸ³åæŸ¥è¡Œåˆ—30ç¢¼ #####
reverse2_lookup:
  tag: reverse2_lookup
  dictionary: "Mount_bopomo.extended"
  # prism: "Mount_bopomo.extended"
  # enable_charset_filter: false #true
  enable_completion: false
  enable_user_dict: true
  prefix: "="
  suffix: "'"
  tips: "ã€Šæ³¨éŸ³åæŸ¥ã€‹â–¶"
  closing_tips: "â—€ã€Šæ³¨éŸ³åæŸ¥ã€‹"
  preedit_format:
    - "xlit|1qaz2wsxedcrfv5tgbyhnujm8ik,9ol.0p;/- 6347|ã„…ã„†ã„‡ã„ˆã„‰ã„Šã„‹ã„Œã„ã„ã„ã„ã„‘ã„’ã„“ã„”ã„•ã„–ã„—ã„˜ã„™ã„§ã„¨ã„©ã„šã„›ã„œã„ã„ã„Ÿã„ ã„¡ã„¢ã„£ã„¤ã„¥ã„¦Ë‰ËŠË‡Ë‹Ë™|"
    - xform/^/ã€Šæ³¨éŸ³åæŸ¥ã€‹/
    - xform/\|/  /


array30-zy_reverse_lookup:
  tags: [ reverse2_lookup ]
  overwrite_comment: false
  dictionary: onion-array30.extended
  comment_format:
    __include: translator/comment_format


##### ä½¿ç”¨è¡Œåˆ—30åæŸ¥æ³¨éŸ³ç¢¼ #####
reverse3_lookup:
  __include: /translator
  tag: reverse3_lookup
  prefix: "=="
  suffix: "'"
  tips: "ã€ŠæŸ¥æ³¨éŸ³ã€‹â–¶"
  closing_tips: "â—€ã€ŠæŸ¥æ³¨éŸ³ã€‹"
  preedit_format:
    __include: translator/preedit_format
    __append:
    - xform/^/ã€ŠæŸ¥æ³¨éŸ³ã€‹/


bpmf_reverse_lookup:
  tags: [ reverse3_lookup ]
  dictionary: "Mount_bopomo.extended"
  overwrite_comment: true
  comment_format:
    - xform/iu/iU/ #iou
    - xform/ui/uI/ #uei
    - xform/ong/ung/
    - xform/yi?/i/
    - xform/wu?/u/
    - xform/iu/v/
    - xform/([jqx])u/$1v/
    - xform/([iuv])n/$1en/
    - xform/zhi?/Z/
    - xform/chi?/C/
    - xform/shi?/S/
    - xform/([zcsr])i/$1/
    - xform/ai/A/
    - xform/ei/I/
    - xform/ao/O/
    - xform/ou/U/
    - xform/ang/K/
    - xform/eng/G/
    - xform/an/M/
    - xform/en/N/
    - xform/er/R/
    - xform/eh/E/
    - xform/([iv])e/$1E/
    - "xlit|bpmfdtnlgkhjqxZCSrzcsiuvaoeEAIOUMNKGR12345|ã„…ã„†ã„‡ã„ˆã„‰ã„Šã„‹ã„Œã„ã„ã„ã„ã„‘ã„’ã„“ã„”ã„•ã„–ã„—ã„˜ã„™ã„§ã„¨ã„©ã„šã„›ã„œã„ã„ã„Ÿã„ ã„¡ã„¢ã„£ã„¤ã„¥ã„¦Ë‰ËŠË‡Ë‹Ë™|"
    - xform/^/ /
    - xform/ /  /
#    - xform/ /] [/
#    - xform/^/  [/
#    - xform/$/]/


##### æ¨™é»ç¬¦è™Ÿ #####
punctuator:
  # import_preset: default
  full_shape:
    "`" : [ "ï½€" ]
    "=" : [ "ï¼" ]
  half_shape:
    "`" : [ "`" ]
    "=" : [ "=" ]
  # symbols:
  #   "w1" : [ "ï¼Œ", "ã€", "ã€‚", "ï¼", "â€§", "ï¼›", "ï¼š", "ï¼Ÿ", "ï¼", "ï¸°", "â€¦", "â€¥", "ï¹", "ï¹‘", "ï¹’", "Â·", "ï¹”", "ï¹•", "ï¹–", "ï¹—", "ï½œ", "â€“", "ï¸±", "â€”", "ï¸³", "â•´", "ï¸´", "ï¹" ]
  #   "w2" : [ "ï¼ˆ", "ï¼‰", "ï¸µ", "ï¸¶", "ï½›", "ï½", "ï¸·", "ï¸¸", "ã€”", "ã€•", "ï¸¹", "ï¸º", "ã€", "ã€‘", "ï¸»", "ï¸¼", "ã€Š", "ã€‹", "ï¸½", "ï¸¾", "ã€ˆ", "ã€‰", "ï¸¿", "ï¹€", "ã€Œ", "ã€", "ï¹", "ï¹‚", "ã€", "ã€", "ï¹ƒ", "ï¹„", "ï¹™", "ï¹š", "ï¹›", "ï¹œ", "ï¹", "ï¹", "â€˜", "â€™", "â€œ", "â€", "ã€", "ã€", "â€µ", "â€²" ]
  #   "w3" : [ "ï¼ƒ", "ï¼†", "ï¼Š", "â€»", "Â§", "ã€ƒ", "â—‹", "â—", "â–³", "â–²", "â—", "â˜†", "â˜…", "â—‡", "â—†", "â–¡", "â– ", "â–½", "â–¼", "ãŠ£", "â„…", "Â¯", "ï¿£", "ï¼¿", "Ë", "ï¹‰", "ï¹Š", "ï¹", "ï¹", "ï¹‹", "ï¹Œ", "ï¹Ÿ", "ï¹ ", "ï¹¡" ]
  #   "w4" : [ "ï¼‹", "ï¼", "Ã—", "Ã·", "Â±", "âˆš", "ï¼œ", "ï¼", "ï¼", "â‰¦", "â‰§", "â‰ ", "âˆ", "â‰’", "â‰¡", "ï¹¢", "ï¹£", "ï¹¤", "ï¹¥", "ï¹¦", "ï½", "âˆ©", "âˆª", "âŠ¥", "âˆ ", "âˆŸ", "âŠ¿", "ã’", "ã‘", "âˆ«", "âˆ®", "âˆµ", "âˆ´" ]
  #   "w5" : [ "â™€", "â™‚", "âŠ•", "âŠ™", "â†‘", "â†“", "â†", "â†’", "â†–", "â†—", "â†™", "â†˜", "âˆ¥", "âˆ£", "ï¼", "ï¼¼", "âˆ•", "ï¹¨" ]
  #   "w6" : [ "ï¼„", "ï¿¥", "ã€’", "ï¿ ", "ï¿¡", "ï¼…", "ï¼ ", "â„ƒ", "â„‰", "ï¹©", "ï¹ª", "ï¹«", "ã•", "ãœ", "ã", "ã", "ã", "ã¡", "ã", "ã", "ã„", "Â°", "å…™", "å…›", "å…", "å…", "å…¡", "å…£", "å—§", "ç“©", "ç³" ]
  #   "w7" : [ "â–", "â–‚", "â–ƒ", "â–„", "â–…", "â–†", "â–‡", "â–ˆ", "â–", "â–", "â–", "â–Œ", "â–‹", "â–Š", "â–‰", "â”¼", "â”´", "â”¬", "â”¤", "â”œ", "â–”", "â”€", "â”‚", "â–•", "â”Œ", "â”", "â””", "â”˜", "â•­", "â•®", "â•°", "â•¯", "â•", "â•", "â•ª", "â•¡", "â—¢", "â—£", "â—¥", "â—¤", "â•±", "â•²", "â•³", "â•”", "â•¦", "â•—", "â• ", "â•¬", "â•£", "â•š", "â•©", "â•", "â•’", "â•¤", "â••", "â•", "â•ª", "â•¡", "â•˜", "â•§", "â•›", "â•“", "â•¥", "â•–", "â•Ÿ", "â•«", "â•¢", "â•™", "â•¨", "â•œ", "â•‘", "â•", "â•­", "â•®", "â•°", "â•¯", "â–“" ]
  #   "w8" : [ "â‘ ", "â‘¡", "â‘¢", "â‘£", "â‘¤", "â‘¥", "â‘¦", "â‘§", "â‘¨", "â‘©", "â‘´", "â‘µ", "â‘¶", "â‘·", "â‘¸", "â‘¹", "â‘º", "â‘»", "â‘¼", "â‘½", "â…°", "â…±", "â…²", "â…³", "â…´", "â…µ", "â…¶", "â…·", "â…¸", "â…¹", "â… ", "â…¡", "â…¢", "â…£", "â…¤", "â…¥", "â…¦", "â…§", "â…¨", "â…©", "ã€¡", "ã€¢", "ã€£", "ã€¤", "ã€¥", "ã€¦", "ã€§", "ã€¨", "ã€©", "ã€¸", "ã€¹", "ã€º" ]
  #   "w9" : [ "Î‘", "Î’", "Î“", "Î”", "Î•", "Î–", "Î—", "Î˜", "Î™", "Îš", "Î›", "Îœ", "Î", "Î", "ÎŸ", "Î ", "Î¡", "Î£", "Î¤", "Î¥", "Î¦", "Î§", "Î¨", "Î©", "Î±", "Î²", "Î³", "Î´", "Îµ", "Î¶", "Î·", "Î¸", "Î¹", "Îº", "Î»", "Î¼", "Î½", "Î¾", "Î¿", "Ï€", "Ï", "Ïƒ", "Ï„", "Ï…", "Ï†", "Ï‡", "Ïˆ", "Ï‰" ]
  #   "w0" : [ "ã„…", "ã„†", "ã„‡", "ã„ˆ", "ã„‰", "ã„Š", "ã„‹", "ã„Œ", "ã„", "ã„", "ã„", "ã„", "ã„‘", "ã„’", "ã„“", "ã„”", "ã„•", "ã„–", "ã„—", "ã„˜", "ã„™", "ã„š", "ã„›", "ã„œ", "ã„", "ã„", "ã„Ÿ", "ã„ ", "ã„¡", "ã„¢", "ã„£", "ã„¤", "ã„¥", "ã„¦", "ã„§", "ã„¨", "ã„©", "Ë™", "Ë‰", "ËŠ", "Ë‡", "Ë‹" ]


##### æŒ‰éµè¨­å®š #####
key_binder:
  import_preset: default
  bindings:
### é¿ RIME åŸè¨­å®šéµä½è¡çª ###
    - {accept: comma, send: comma, when: has_menu}
    - {accept: comma, send: comma, when: paging}
    - {accept: period, send: period, when: has_menu}
    - {accept: period, send: period, when: paging}
    - {accept: minus, send: minus, when: has_menu}
    - {accept: minus, send: minus, when: paging}
    - {accept: equal, send: equal, when: has_menu}
    - {accept: equal, send: equal, when: paging}
#    - {accept: equal, send: equal, when: always}
### é¸å­—ç¿»é  ###
    - {accept: Left, send: Page_Up, when: paging}
    - {accept: Right, send: Page_Down, when: paging}
#    - {accept: Up, send: Page_Up, when: paging} #æ©«å¼é¸å–®ç”¨
#    - {accept: Down, send: Page_Down, when: paging} #æ©«å¼é¸å–®ç”¨
#    - {accept: Left, send: Left, when: has_menu} #æ©«å¼é¸å–®ç”¨ #send: Shift+Up
#    - {accept: Right, send: Right, when: has_menu} #æ©«å¼é¸å–®ç”¨ #send: Shift+Down #send: Right
    - {accept: Shift+Up, send: Page_Up, when: has_menu} #é¸å­—æ™‚ã€ŒShiftã€+ã€Œä¸Šã€ç¿»é ã€‚
    - {accept: Shift+Down, send: Page_Down, when: has_menu} #é¸å­—æ™‚ã€ŒShiftã€+ã€Œä¸‹ã€ç¿»é ã€‚
    - {accept: Shift+Tab, send: Page_Up, when: has_menu} #é¸å­—æ™‚ã€ŒShiftã€+ã€Œtabã€ç¿»é ã€‚
    - {accept: Shift+space, send: Page_Down, when: has_menu} #é¸å­—æ™‚ã€ŒShiftã€+ã€Œç©ºç™½éµã€ç¿»é ã€‚ #send: Right #send: Down
    # - {accept: Tab, send: Page_Down, when: has_menu} #ã€Œtabã€ç¿»é ã€‚
    # - {accept: Tab, send: Shift+Left, when: paging}
    - {accept: Tab, send_sequence: "{Shift+Left}{Shift+Left}", when: paging} #å›åˆ°ã€Œç©ºç™½éµã€éé¸æ“‡ä¸Šå±ã€‚
### ç©ºç™½éµ ###
    - {accept: space, send: Escape, when: composing} #ç©ºç¢¼æ¸…å±ç”¨
    - {accept: space, send: space, when: has_menu} #è£œä¸Šä¸€æ¢ç”¢ç”Ÿä¹‹bug
    - {accept: space, send: KP_Space, when: paging} #æ–¹å‘éµé¸å­—æ™‚ï¼Œspaceç›´æ¥ä¸Šå±ï¼ˆé¿å…è¢«ç©ºæ ¼å½±éŸ¿ï¼‰
###  åŠŸèƒ½å¿«æ·éµ ###
#     # - { accept: Shift+space, toggle: ascii_mode, when: always }
#     - { accept: Control+comma, toggle: ascii_mode, when: always } #æ–°å¢ï¼
# #    - { accept: Control+Shift+space, toggle: ascii_mode, when: always } #æ–°å¢ï¼
# #    - { accept: Control+Shift+comma, toggle: ascii_mode, when: always } #æ–°å¢ï¼
#     - { accept: Control+period, toggle: full_shape, when: always } #æ–°å¢ï¼
# #    - { accept: Control+Shift+period, toggle: full_shape, when: always } #æ–°å¢ï¼
#     - { accept: Control+semicolon, toggle: simplification, when: always } #æ–°å¢ï¼
# #    - { accept: Control+Shift+slash, toggle: simplification, when: always } #æ–°å¢ï¼
#     - { accept: Control+slash, toggle: ascii_punct, when: always } #æ–°å¢ï¼
#     - { accept: Control+apostrophe, toggle: extended_charset, when: always } #å¢å»£å¸¸ç”¨å­—ç¬¦éæ¿¾ï¼Œæ–°å¢é–‹é—œ
#     - { accept: Control+bracketleft, toggle: simplify_comment, when: always } #ç·¨ç¢¼æç¤ºé–‹é—œ
#     - { accept: Control+bracketright, toggle: 1_2_straight_up, when: always } #ç©ºç™½ç›´ä¸Šé–‹é—œ
#     - { accept: Control+minus, toggle: array30_space_wp, when: always } #ç©ºç™½ç‚ºç¿»é æˆ–ä¸Šå±é–‹é—œ
# #    - { accept: Control+equal, toggle: array30_return_abc, when: always } # return ä¸Šå±å€™é¸å­—æˆ– abc é–‹é—œ
## ä¸Šæ’åˆ‡æ›(Mac)
    - { accept: Control+Shift+7, toggle: simplify_comment, when: always } #ç·¨ç¢¼æç¤ºé–‹é—œ
    - { accept: Control+Shift+8, toggle: array30_space_wp, when: always } #ç©ºç™½ç‚ºç¿»é æˆ–ä¸Šå±é–‹é—œ
    # - { accept: Control+Shift+8, toggle: 1_2_straight_up, when: always } #ç©ºç™½ç›´ä¸Šé–‹é—œ
    # - { accept: Control+Shift+9, toggle: array30_space_wp, when: always } #ç©ºç™½ç‚ºç¿»é æˆ–ä¸Šå±é–‹é—œ
    # - { accept: Control+Shift+0, toggle: array30_return_abc, when: always } # return ä¸Šå±å€™é¸å­—æˆ– abc é–‹é—œ
## ä¸Šæ’åˆ‡æ›(Win)
    - { accept: Control+Shift+ampersand, toggle: simplify_comment, when: always } #ç·¨ç¢¼æç¤ºé–‹é—œ
    - { accept: Control+Shift+asterisk, toggle: array30_space_wp, when: always } #ç©ºç™½ç‚ºç¿»é æˆ–ä¸Šå±é–‹é—œ
    # - { accept: Control+Shift+asterisk, toggle: 1_2_straight_up, when: always } #ç©ºç™½ç›´ä¸Šé–‹é—œ
    # - { accept: Control+Shift+parenleft, toggle: array30_space_wp, when: always } #ç©ºç™½ç‚ºç¿»é æˆ–ä¸Šå±é–‹é—œ
    # - { accept: Control+Shift+parenright, toggle: array30_return_abc, when: always } # return ä¸Šå±å€™é¸å­—æˆ– abc é–‹é—œ
## åˆ‡æ›æ¨£æ…‹
    - { accept: Control+comma, set_option: ascii_mode, when: always } #æ–°å¢ï¼
    - { accept: Control+period, set_option: full_shape, when: always } #æ–°å¢ï¼
    - { accept: Control+semicolon, set_option: simplification, when: always } #æ–°å¢ï¼
    - { accept: Control+slash, set_option: ascii_punct, when: always } #æ–°å¢ï¼
    - { accept: Control+apostrophe, unset_option: extended_charset, when: always } #å¢å»£å¸¸ç”¨å­—ç¬¦éæ¿¾ï¼Œæ–°å¢é–‹é—œ
    - { accept: Control+bracketleft, set_option: simplify_comment, when: always } #ç·¨ç¢¼æç¤ºé–‹é—œ
    - { accept: Control+bracketright, unset_option: array30_space_wp, when: always } #ç©ºç™½ç‚ºç¿»é æˆ–ä¸Šå±é–‹é—œ
    # - { accept: Control+bracketright, set_option: 1_2_straight_up, when: always } #ç©ºç™½ç›´ä¸Šé–‹é—œ
#winæ˜“å¿«æ·éµè¡çªï¼Œmacå¯æ‰“é–‹#    # - { accept: Control+minus, unset_option: array30_space_wp, when: always } #ç©ºç™½ç‚ºç¿»é æˆ–ä¸Šå±é–‹é—œ
#winæ˜“å¿«æ·éµè¡çªï¼Œmacå¯æ‰“é–‹#    # - { accept: Control+equal, unset_option: array30_return_abc, when: always } # return ä¸Šå±å€™é¸å­—æˆ– abc é–‹é—œ
## åˆå§‹æ¨£æ…‹(Mac)
    - { accept: Control+Shift+comma, unset_option: ascii_mode, when: always } #æ–°å¢ï¼
    - { accept: Control+Shift+period, unset_option: full_shape, when: always } #æ–°å¢ï¼
    - { accept: Control+Shift+semicolon, unset_option: simplification, when: always } #æ–°å¢ï¼
    - { accept: Control+Shift+slash, unset_option: ascii_punct, when: always } #æ–°å¢ï¼
    - { accept: Control+Shift+apostrophe, set_option: extended_charset, when: always } #å¢å»£å¸¸ç”¨å­—ç¬¦éæ¿¾ï¼Œæ–°å¢é–‹é—œ
    - { accept: Control+Shift+bracketleft, unset_option: simplify_comment, when: always } #ç·¨ç¢¼æç¤ºé–‹é—œ
    - { accept: Control+Shift+bracketright, set_option: array30_space_wp, when: always } #ç©ºç™½ç‚ºç¿»é æˆ–ä¸Šå±é–‹é—œ
    # - { accept: Control+Shift+bracketright, unset_option: 1_2_straight_up, when: always } #ç©ºç™½ç›´ä¸Šé–‹é—œ
#winæ˜“å¿«æ·éµè¡çªï¼Œmacå¯æ‰“é–‹#    # - { accept: Control+Shift+minus, set_option: array30_space_wp, when: always } #ç©ºç™½ç‚ºç¿»é æˆ–ä¸Šå±é–‹é—œ
#winæ˜“å¿«æ·éµè¡çªï¼Œmacå¯æ‰“é–‹#    # - { accept: Control+Shift+equal, set_option: array30_return_abc, when: always } # return ä¸Šå±å€™é¸å­—æˆ– abc é–‹é—œ
## åˆå§‹æ¨£æ…‹(Win)
    - { accept: Control+Shift+less, unset_option: ascii_mode, when: always } #æ–°å¢ï¼
    - { accept: Control+Shift+greater, unset_option: full_shape, when: always } #æ–°å¢ï¼
    - { accept: Control+Shift+colon, unset_option: simplification, when: always } #æ–°å¢ï¼
    - { accept: Control+Shift+question, unset_option: ascii_punct, when: always } #æ–°å¢ï¼
    - { accept: Control+Shift+quotedbl, set_option: extended_charset, when: always } #å¢å»£å¸¸ç”¨å­—ç¬¦éæ¿¾ï¼Œæ–°å¢é–‹é—œ
    - { accept: Control+Shift+braceleft, unset_option: simplify_comment, when: always } #ç·¨ç¢¼æç¤ºé–‹é—œ
    - { accept: Control+Shift+braceright, set_option: array30_space_wp, when: always } #ç©ºç™½ç‚ºç¿»é æˆ–ä¸Šå±é–‹é—œ
    # - { accept: Control+Shift+braceright, unset_option: 1_2_straight_up, when: always } #ç©ºç™½ç›´ä¸Šé–‹é—œ
#winæ˜“å¿«æ·éµè¡çªï¼Œmacå¯æ‰“é–‹#    # - { accept: Control+Shift+underscore, set_option: array30_space_wp, when: always } #ç©ºç™½ç‚ºç¿»é æˆ–ä¸Šå±é–‹é—œ
#winæ˜“å¿«æ·éµè¡çªï¼Œmacå¯æ‰“é–‹#    # - { accept: Control+Shift+plus, set_option: array30_return_abc, when: always } # return ä¸Šå±å€™é¸å­—æˆ– abc é–‹é—œ
### Return/Enteréµ ###
    - {accept: Return, send: KP_Space, when: paging} #é¸å­—æ™‚ Return/Enter éµåŒç©ºç™½éµä¸Šå±ä¸­æ–‡
    - {accept: KP_Enter, send: KP_Space, when: paging} #é¸å­—æ™‚å³å´å°éµç›¤ Return/Enter éµåŒç©ºç™½éµä¸Šå±ä¸­æ–‡
### Return/Enteréµä¸Šå±ï¼ˆåŸç‚ºcustomæª”ï¼‰ ###
    # - {accept: Return, send: space, when: has_menu} #æœ‰é¸å–®æ™‚ Return/Enter éµåŒç©ºç™½éµä¸Šå±ä¸­æ–‡
    - {accept: Return, send: KP_Space, when: has_menu} #æœ‰é¸å–®æ™‚ Return/Enter éµç›´æ¥ä¸Šå±ç¾ä¸‹ä¸­æ–‡
    - {accept: Return, send: Escape, when: composing} #ç©ºç¢¼æ¸…å±ç”¨
    # - {accept: KP_Enter, send: space, when: has_menu} #æœ‰é¸å–®æ™‚å³å´å°éµç›¤ Return/Enter éµåŒç©ºç™½éµä¸Šå±ä¸­æ–‡
    - {accept: KP_Enter, send: KP_Space, when: has_menu} #æœ‰é¸å–®æ™‚å³å´å°éµç›¤ Return/Enter éµç›´æ¥ä¸Šå±ç¾ä¸‹ä¸­æ–‡
    - {accept: KP_Enter, send: Escape, when: composing} #ç©ºç¢¼æ¸…å±ç”¨
    # - {accept: Shift+Return, send: Return, when: composing} #ä¸Šæ–¹å››å€‹é–‹å•Ÿæ™‚è£œå……ç”¨ï¼ˆæ”¹ç”¨ editor/bindings å¯¦ç¾ï¼‰ã€‚


##### æŒ‰éµç¶å®š #####
editor:
  bindings:
    KP_Space: confirm
    Shift+Return: commit_raw_input


##### æ®µè½è­˜åˆ¥å™¨ #####
recognizer:
  patterns:
    # punct: "^w[0-9]$"
    wsymbols: "^w[0-9]$" #ï¼ˆå¯ç”¨ symbols æ›´ç°¡å–®å¯¦ç¾ï¼Œä½†æ²’æœ‰é–‹é ­æç¤ºï¼‰
    # reverse2_lookup: "(?<!=)=[-.,;/0-9a-z ]*'?$"  # å»é™¤é–‹é ­ã€Œ^ã€é™å®šï¼Œä½¿å…¶æ¥çºŒä¸è·³æ‰ã€‚ï¼ˆèˆŠçš„luaå¯«æ³•éœ€é€™æ¨£è¨­å®šï¼ï¼‰
    reverse2_lookup: "^=[-.,;/0-9a-z ]*'?$"
    reverse3_lookup: "^==[a-z,./; ]*'?$"
    # lua: "^[a-z][-_.0-9a-z]*@.*$|^(https?:|ftp:|mailto:|file:).*$|`[a-z]*$|`[;/'][a-z.,/'-]*$|`[rq0-9.-][asrvxqwymd0-9.,/()^*+-]*$|`[xucoi][0-9a-f]+$"
    email_url_translator: "^[a-z][-_.0-9a-z]*@.*$|^(www[.]|https?:|ftp:|mailto:|file:).*$"
    mf_translator: "`[a-z,]*$|`[;/'][a-z.,/'-]*$|`[rq0-9.-][asrvxqwymd0-9.,/()^*+-]*$|`[xucoi][0-9a-f]+$"
    # lua: "^[a-z][-_.0-9a-z]*@.*$|^(www[.]|https?:|ftp:|mailto:|file:).*$|`[';/]?[a-z]*$|`[0-9./-]*$|`[xucoi][0-9a-z]+$"
    # lua: "^[a-z][-_.0-9a-z]*@.*$|^(www[.]|https?:|ftp:|mailto:|file:).*$|`[';a-z0-9./-]*$"
    # email: "^[a-z][-_.0-9a-z]*@.*$"
    # url: "^(www[.]|https?:|ftp:|mailto:).*$"


style:
  inline_preedit: true
  candidate_list_layout: stacked #linear #stacked
  horizontal: false
